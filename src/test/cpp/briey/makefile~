TRACE?=no
TRACE_START=0

ADDCFLAGS += -CFLAGS -pthread



ifeq ($(TRACE),yes)
	VERILATOR_ARGS += --trace
	ADDCFLAGS += -CFLAGS -DTRACE
endif
ADDCFLAGS += -CFLAGS -DTRACE_START=${TRACE_START}


run: compile
	./obj_dir/VBriey

verilate:
	verilator -cc  ../../../../Briey.v  -O3 -CFLAGS -std=c++11 -LDFLAGS -pthread  ${ADDCFLAGS} --gdbbt ${VERILATOR_ARGS} -Wno-WIDTH --x-assign unique --exe main.cpp
 	
compile: verilate
	make  -j  -C obj_dir/ -f VBriey.mk VBriey
 	
clean:
	rm -rf obj_dir
 	
